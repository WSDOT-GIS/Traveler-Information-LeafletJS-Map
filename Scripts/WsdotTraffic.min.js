(function(n,t){"use strict";typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.WsdotTraffic=t()})(this,function(){"use strict";function n(n){return n==null?null:typeof n=="number"?n:Number(n)}function i(n){var t,i=n;return typeof n=="string"&&(t=n.match(/\/Date\((\d+)(-\d+)?\)\//),t&&(i=t.length===3?new Date(Number(t[1])+Number(t[2])):new Date(Number(t[1])))),i&&i.getTime&&!isNaN(i.getTime())||(i=n),i}function f(n,t){this.type=n;this.coordinates=t}function p(n,t){var r,u,i,f={};for(r in n)if(n.hasOwnProperty(r)&&!(t&&r===t))if(i=n[r],typeof i!="object"||i instanceof Date)f[r]=i;else for(u in i)i.hasOwnProperty(u)&&(f[[r,u].join("_")]=i[u]);return f}function w(n){var i,t,r;if(typeof n=="object"){i=/(?:(?:Alert)|(?:Camera)|(?:MountainPass)|(?:FlowData)|(?:TravelTime))ID/i;for(t in n)if(n.hasOwnProperty(t)&&i.test(t)){r={name:t,value:n[t]};break}}return r}function u(n,t){var i=w(t);this.id=i?i.value:null;this.type="Feature";this.geometry=n;this.properties=p(t,i?i.name:null)}function b(n){this.features=n}function t(t){this.Description=t?t.Description||null:null;this.RoadName=t?t.RoadName||null:null;this.Direction=t?t.Direction||null:null;this.MilePost=t?n(t.MilePost):null;this.Latitude=t?n(t.Latitude):null;this.Longitude=t?n(t.Longitude):null}function e(n){this.Time=n?i(n.Time):null;this.CrossingName=n?n.CrossingName||null:null;this.BorderCrossingLocation=n?t.toRoadwayLocation(n.BorderCrossingLocation):null;this.WaitTime=n?n.WaitTime||null:null}function r(u){this.StateRouteID=u?u.StateRouteID||null:null;this.State=u?u.State||null:null;this.RestrictionWidthInInches=n(u.RestrictionWidthInInches);this.RestrictionHeightInInches=n(u.RestrictionHeightInInches);this.RestrictionLengthInInches=n(u.RestrictionLengthInInches);this.RestrictionWeightInPounds=n(u.RestrictionWeightInPounds);this.IsDetourAvailable=Boolean(u.IsDetourAvailable);this.IsPermanentRestriction=Boolean(u.IsPermanentRestriction);this.IsExceptionsAllowed=Boolean(u.IsExceptionsAllowed);this.IsWarning=u?u.IsWarning||null:null;this.DatePosted=u?i(u.DatePosted):null;this.DateEffective=u?i(u.DateEffective):null;this.DateExpires=u?i(u.DateExpires):null;this.LocationName=u?u.LocationName||null:null;this.LocationDescription=u?u.LocationDescription||null:null;this.RestrictionComment=u?u.RestrictionComment||null:null;this.Latitude=u?u.Latitude||null:null;this.Longitude=u?u.Longitude||null:null;this.BridgeNumber=u?u.BridgeNumber||null:null;this.MaximumGrossVehicleWeightInPounds=n(u.MaximumGrossVehicleWeightInPounds);this.BridgeName=u?u.BridgeName||null:null;this.BLMaxAxle=n(u.BLMaxAxle);this.CL8MaxAxle=n(u.CL8MaxAxle);this.SAMaxAxle=n(u.SAMaxAxle);this.TDMaxAxle=n(u.TDMaxAxle);this.VehicleType=u?u.VehicleType||null:null;this.RestrictionType=u.RestrictionType===1?r.RESTRICTION_TYPE_ROAD_RESTRICTION:u.RestrictionType===0?r.RESTRICTION_TYPE_BRIDGE_RESTRICTION:u.RestrictionType;this.StartRoadwayLocation=u?t.toRoadwayLocation(u.StartRoadwayLocation):null;this.EndRoadwayLocation=u?t.toRoadwayLocation(u.EndRoadwayLocation):null}function o(n){this.AlertID=n?n.AlertID:null;this.County=n?n.County||null:null;this.StartTime=n?i(n.StartTime):null;this.EndTime=n?i(n.EndTime):null;this.EventCategory=n?n.EventCategory||null:null;this.EventStatus=n?n.EventStatus||null:null;this.ExtendedDescription=n?n.ExtendedDescription||null:null;this.HeadlineDescription=n?n.HeadlineDescription||null:null;this.LastUpdatedTime=n?i(n.LastUpdatedTime):null;this.Priority=n?n.Priority||null:null;this.Region=n?n.Region||null:null;this.StartRoadwayLocation=n?t.toRoadwayLocation(n.StartRoadwayLocation):null;this.EndRoadwayLocation=n?t.toRoadwayLocation(n.EndRoadwayLocation):null}function s(i){this.CameraID=i?n(i.CameraID):null;this.Region=i?i.Region||null:null;this.CameraLocation=i?t.toRoadwayLocation(i.CameraLocation):null;this.DisplayLatitude=i?n(i.DisplayLatitude):null;this.DisplayLongitude=i?n(i.DisplayLongitude):null;this.Title=i?i.Title||null:null;this.Description=i?i.Description||null:null;this.ImageURL=i?i.ImageURL||null:null;this.CameraOwner=i?i.CameraOwner||null:null;this.OwnerURL=i?i.OwnerURL||null:null;this.ImageWidth=i?n(i.ImageWidth):null;this.ImageHeight=i?n(i.ImageHeight):null;this.IsActive=i?i.IsActive||null:null;this.SortOrder=i?n(i.SortOrder):null}function h(n){this.TravelDirection=n?n.TravelDirection||null:null;this.RestrictionText=n?n.RestrictionText||null:null}function c(t){this.MountainPassId=t?t.MountainPassId||null:null;this.MountainPassName=t?t.MountainPassName||null:null;this.Latitude=t?n(t.Latitude):null;this.Longitude=t?n(t.Longitude):null;this.DateUpdated=t?i(t.DateUpdated):null;this.TemperatureInFahrenheit=t?t.TemperatureInFahrenheit||null:null;this.ElevationInFeet=t?t.ElevationInFeet||null:null;this.WeatherCondition=t?t.WeatherCondition||null:null;this.RoadCondition=t?t.RoadCondition||null:null;this.TravelAdvisoryActive=t?t.TravelAdvisoryActive||null:null;this.RestrictionOne=t?new h(t.RestrictionOne):null;this.RestrictionTwo=t?new h(t.RestrictionTwo):null}function k(n){return n?n===1?"WideOpen":n===2?"Moderate":n===3?"Heavy":n===4?"StopAndGo":"NoData":"Unknown"}function l(r){this.FlowDataID=r?n(r.FlowDataID):null;this.Time=r?i(r.Time):null;this.StationName=r?r.StationName||null:null;this.Region=r?r.Region||null:null;this.FlowStationLocation=r?t.toRoadwayLocation(r.FlowStationLocation):null;this.FlowReadingValue=r?k(r.FlowReadingValue):null}function a(r){this.TravelTimeID=r?n(r.TravelTimeID):null;this.Name=r?r.Name||null:null;this.Description=r?r.Description||null:null;this.TimeUpdated=r?i(r.TimeUpdated):null;this.StartPoint=r?t.toRoadwayLocation(r.StartPoint):null;this.EndPoint=r?t.toRoadwayLocation(r.EndPoint):null;this.Distance=r?n(r.Distance):null;this.AverageTime=r?n(r.AverageTime):null;this.CurrentTime=r?n(r.CurrentTime):null}function v(n){var t;if(!n)throw new TypeError("Input cannot be null or undefined.");if(n.hasOwnProperty("CrossingName"))t=e;else if(n.hasOwnProperty("RestrictionType"))t=r;else if(n.hasOwnProperty("AlertID"))t=o;else if(n.hasOwnProperty("CameraID"))t=s;else if(n.hasOwnProperty("MountainPassId"))t=c;else if(n.hasOwnProperty("FlowDataID"))t=l;else if(n.hasOwnProperty("TravelTimeID"))return a;return t}function d(n){var t,i,r;if(n)for(t=[],i=0,r=n.length;i<r;i+=1)t.push(y(n[i]));return t&&(t=new b(t)),t}function y(n){var t;return n&&(typeof n.toFeature=="function"?t=n.toFeature():n instanceof Array?t=d(n):n instanceof e?t=new u(n.BorderCrossingLocation.toGeoJsonPoint(),n):n instanceof r||n instanceof c?t=new u(new f("Point",[n.Longitude,n.Latitude]),n):n instanceof s?t=new u(new f("Point",n.CameraLocation.isLocationValid()?[n.CameraLocation.Longitude,n.CameraLocation.Latitude]:[n.DisplayLongitude,n.DisplayLatitude]),n):n instanceof l?t=new u(n.FlowStationLocation.toGeoJsonPoint(),n):n instanceof a?t=new u(new f("MultiPoint",[[n.StartPoint.Longitude,n.StartPoint.Latitude],[n.EndPoint.Longitude,n.EndPoint.Latitude]]),n):n instanceof o&&(t=new u(new f("MultiPoint",[[n.StartRoadwayLocation.Longitude,n.StartRoadwayLocation.Latitude],[n.EndRoadwayLocation.Longitude,n.EndRoadwayLocation.Latitude]]),n))),t}function g(n,t){var i,r;return t?(r=v(t),r&&(i=new r(t)),i||(i=t)):i=t,i}function nt(n,t){var i,r;return t?(r=v(t),r&&(i=new r(t),i=y(i)),i||(i=t)):i=t,i}return t.prototype.isLocationValid=function(){return this.Longitude&&this.Latitude},t.prototype.toGeoJsonPoint=function(){return new f("Point",[this.Longitude,this.Latitude])},t.toRoadwayLocation=function(n){var i=null;return n&&(i=n instanceof t?n:new t(n)),i},r.RESTRICTION_TYPE_BRIDGE_RESTRICTION="BridgeRestriction",r.RESTRICTION_TYPE_ROAD_RESTRICTION="RoadRestriction",{determineConstructor:v,parseJson:g,parseAsGeoJson:nt,RoadwayLocation:t,BorderCrossingData:e,CVRestrictionData:r,Alert:o,Camera:s,PassCondition:c,TravelRestriction:h,FlowData:l,TravelTimeRoute:a}});
/*
//# sourceMappingURL=WsdotTraffic.min.js.map
*/